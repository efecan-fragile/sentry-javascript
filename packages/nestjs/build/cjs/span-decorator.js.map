{"version":3,"file":"span-decorator.js","sources":["../../src/span-decorator.ts"],"sourcesContent":["import { startSpan } from '@sentry/node';\n\n/**\n * A decorator usable to wrap arbitrary functions with spans.\n */\nexport function SentryTraced(op: string = 'function') {\n  return function (target: unknown, propertyKey: string, descriptor: PropertyDescriptor) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const originalMethod = descriptor.value as (...args: any[]) => Promise<any> | any; // function can be sync or async\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    descriptor.value = function (...args: any[]) {\n      return startSpan(\n        {\n          op: op,\n          name: propertyKey,\n        },\n        () => {\n          return originalMethod.apply(this, args);\n        },\n      );\n    };\n    return descriptor;\n  };\n}\n"],"names":["startSpan"],"mappings":";;;;AAEA;AACA;AACA;AACO,SAAS,YAAY,CAAC,EAAE,GAAW,UAAU,EAAE;AACtD,EAAE,OAAO,UAAU,MAAM,EAAW,WAAW,EAAU,UAAU,EAAsB;AACzF;AACA,IAAI,MAAM,cAAA,GAAiB,UAAU,CAAC,KAAM,EAAA;AAC5C;AACA;AACA,IAAI,UAAU,CAAC,KAAM,GAAE,UAAU,GAAG,IAAI,EAAS;AACjD,MAAM,OAAOA,gBAAS;AACtB,QAAQ;AACR,UAAU,EAAE,EAAE,EAAE;AAChB,UAAU,IAAI,EAAE,WAAW;AAC3B,SAAS;AACT,QAAQ,MAAM;AACd,UAAU,OAAO,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;AACjD,SAAS;AACT,OAAO,CAAA;AACP,KAAK,CAAA;AACL,IAAI,OAAO,UAAU,CAAA;AACrB,GAAG,CAAA;AACH;;;;"}